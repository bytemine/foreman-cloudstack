<%= text_f f, :url, :size => "col-md-8", :help_block => _("e.g. http://managementserver.example.com:8080/client/api") %>
<%= text_f f, :user, :label => _("API Key") %>
<%= password_f f, :password, :label => _("Secret Key") %>

<% zones = f.object.zones rescue [] %>
<%= selectable_f(f, :zone, zones.map { |z| [z[:name], z[:id]] }, {}, {:label => _('Zone'), :disabled => zones.empty?,
                 :help_inline => link_to_function(zones.empty? ? _("Load Zones") : _("Test Connection"), "testConnection(this)",
                 :class => "btn + #{zones.empty? ? "btn-default" : "btn-success"}",
                 :'data-url' => test_connection_compute_resources_path) + image_tag('/assets/spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe }) %>

<% hypervisors = f.object.hypervisors rescue [] %>
<%= selectable_f(f, :hypervisor, hypervisors.map { |h| [h, h] }, {}, {:label => _('Hypervisor'), :disabled => hypervisors.empty?,
                 :help_inline => link_to_function(hypervisors.empty? ? _("Load Hypervisors") : _("Test Connection"), "testConnection(this)",
                 :class => "btn + #{hypervisors.empty? ? "btn-default" : "btn-success"}",
                 :'data-url' => test_connection_compute_resources_path) + image_tag('/assets/spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe }) %>
